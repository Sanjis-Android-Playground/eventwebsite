const translations = {
    en: {
        "nav.home": "Home",
        "nav.timeline": "Timeline",
        "nav.events": "Events",
        "nav.articles": "Articles",
        "nav.gallery": "Gallery",
        "nav.impact": "Impact",
        "nav.contact": "Contact",

        "hero.badge": "Historic Events of 2024",
        "hero.title": "Chronicle of Recent Events in Bangladesh",
        "hero.subtitle": "Documenting the historic changes, student movements, and democratic transformation that shaped Bangladesh's future",
        "hero.cta.timeline": "Explore Timeline",
        "hero.cta.gallery": "View Gallery",
        "hero.stat.days": "Days of Change",
        "hero.stat.events": "Major Events",
        "hero.stat.people": "Million People",

        "news.label": "BREAKING",
        "news.item1": "Interim Government announces new commission for banking sector reform.",
        "news.item2": "Dhaka University resumes classes after 3 months of closure.",
        "news.item3": "Metro Rail service fully operational again.",
        "news.item4": "International community pledges support for Bangladesh's democratic transition.",

        "section.overview": "Overview",
        "card.jul_aug": "July-August 2024",
        "card.jul_aug_desc": "Student-led protests and political transformation",
        "card.youth": "Youth Movement",
        "card.youth_desc": "Students demand reform and change",
        "card.interim": "Interim Government",
        "card.interim_desc": "Formation of new leadership structure",
        "card.reform": "Reform Process",
        "card.reform_desc": "Ongoing institutional and social reforms",

        "section.timeline": "Timeline of Events",
        "timeline.1.date": "July 2024",
        "timeline.1.title": "Student Protests Begin",
        "timeline.1.desc": "Students across Bangladesh initiate protests demanding quota reform in government jobs.",
        "timeline.3.date": "August 5, 2024",
        "timeline.3.title": "Political Transition",
        "timeline.3.desc": "Following weeks of intense protests, Prime Minister Sheikh Hasina resigns and leaves the country.",
        "timeline.4.date": "August 8, 2024",
        "timeline.4.title": "Interim Government Formed",
        "timeline.4.desc": "Dr. Muhammad Yunus is sworn in as Chief Adviser of the interim government.",

        "section.key_figures": "Key Figures",
        "figure.yunus.role": "Chief Adviser, Interim Government",
        "figure.yunus.desc": "Nobel Peace Prize laureate (2006) and founder of Grameen Bank.",
        "figure.students.title": "Student Coordinators",
        "figure.students.role": "Movement Organizers",
        "figure.students.desc": "The brave students from Dhaka University, BUET, and other institutions.",

        "section.impact": "Impact & Significance",
        "impact.title": "A Historic Moment for Bangladesh",
        "impact.p1": "The events of 2024 represent a pivotal moment in Bangladesh's history.",
        "impact.item1": "Youth Empowerment",
        "impact.item2": "Institutional Reform",
        "impact.item3": "International Attention",

        "footer.desc": "Documenting historic events and developments in Bangladesh."
    },
    bn: {
        "nav.home": "হোম",
        "nav.timeline": "সময়রেখা",
        "nav.events": "ঘটনাবলী",
        "nav.articles": "নিবন্ধ",
        "nav.gallery": "গ্যালারি",
        "nav.impact": "প্রভাব",
        "nav.contact": "যোগাযোগ",

        "hero.badge": "২০২৪ সালের ঐতিহাসিক ঘটনা",
        "hero.title": "বাংলাদেশের পরিবর্তনের দিনলিপি",
        "hero.subtitle": "ঐতিহাসিক পরিবর্তন, ছাত্র আন্দোলন এবং গণতান্ত্রিক রূপান্তর যা বাংলাদেশের ভবিষ্যৎ গড়ে তুলেছে",
        "hero.cta.timeline": "সময়রেখা দেখুন",
        "hero.cta.gallery": "গ্যালারি দেখুন",
        "hero.stat.days": "পরিবর্তনের দিন",
        "hero.stat.events": "প্রধান ঘটনাবলী",
        "hero.stat.people": "কোটি মানুষ",

        "news.label": "ব্রেকিং নিউজ",
        "news.item1": "ব্যাংকিং খাত সংস্কারের জন্য নতুন কমিশন ঘোষণা করল অন্তর্বর্তীকালীন সরকার।",
        "news.item2": "৩ মাস বন্ধ থাকার পর ঢাকা বিশ্ববিদ্যালয়ে ক্লাস শুরু।",
        "news.item3": "মেট্রো রেল পরিষেবা আবার সম্পূর্ণ সচল।",
        "news.item4": "বাংলাদেশের গণতান্ত্রিক পরিবর্তনে আন্তর্জাতিক সম্প্রদায়ের সমর্থনের প্রতিশ্রুতি।",

        "section.overview": "একনজরে",
        "card.jul_aug": "জুলাই-আগস্ট ২০২৪",
        "card.jul_aug_desc": "ছাত্র নেতৃত্বাধীন আন্দোলন এবং রাজনৈতিক পরিবর্তন",
        "card.youth": "যুব আন্দোলন",
        "card.youth_desc": "শিক্ষার্থীদের সংস্কার এবং পরিবর্তনের দাবি",
        "card.interim": "অন্তর্বর্তীকালীন সরকার",
        "card.interim_desc": "নতুন নেতৃত্ব কাঠামো গঠন",
        "card.reform": "সংস্কার প্রক্রিয়া",
        "card.reform_desc": "চলমান প্রাতিষ্ঠানিক এবং সামাজিক সংস্কার",

        "section.timeline": "ঘটনার সময়রেখা",
        "timeline.1.date": "জুলাই ২০২৪",
        "timeline.1.title": "ছাত্র আন্দোলন শুরু",
        "timeline.1.desc": "সারা দেশে শিক্ষার্থীরা সরকারি চাকরিতে কোটা সংস্কারের দাবিতে আন্দোলন শুরু করে।",
        "timeline.3.date": "৫ আগস্ট ২০২৪",
        "timeline.3.title": "রাজনৈতিক পটপরিবর্তন",
        "timeline.3.desc": "তীব্র আন্দোলনের পর প্রধানমন্ত্রী শেখ হাসিনা পদত্যাগ করেন এবং দেশ ত্যাগ করেন।",
        "timeline.4.date": "৮ আগস্ট ২০২৪",
        "timeline.4.title": "অন্তর্বর্তীকালীন সরকার গঠন",
        "timeline.4.desc": "ড. মুহাম্মদ স ইউনূস অন্তর্বর্তীকালীন সরকারের প্রধান উপদেষ্টা হিসেবে শপথ গ্রহণ করেন।",

        "section.key_figures": "প্রধান ব্যক্তিত্ব",
        "figure.yunus.role": "প্রধান উপদেষ্টা, অন্তর্বর্তীকালীন সরকার",
        "figure.yunus.desc": "নোবেল বিজয়ী (২০০৬) এবং গ্রামীণ ব্যাংকের প্রতিষ্ঠাতা।",
        "figure.students.title": "ছাত্র সমন্বয়ক",
        "figure.students.role": "আন্দোলনের সংগঠক",
        "figure.students.desc": "ঢাকা বিশ্ববিদ্যালয়, বুয়েট এবং অন্যান্য শিক্ষা প্রতিষ্ঠানের সাহসী শিক্ষার্থীরা।",

        "section.impact": "প্রভাব ও গুরুত্ব",
        "impact.title": "বাংলাদেশের জন্য একটি ঐতিহাসিক মুহূর্ত",
        "impact.p1": "২০২৪ সালের ঘটনাবলী বাংলাদেশের ইতিহাসে একটি গুরুত্বপূর্ণ অধ্যায়।",
        "impact.item1": "যুব ক্ষমতায়ন",
        "impact.item2": "প্রাতিষ্ঠানিক সংস্কার",
        "impact.item3": "আন্তর্জাতিক মনোযোগ",

        "footer.desc": "শিক্ষামূলক এবং তথ্যমূলক উদ্দেশ্যে বাংলাদেশের ঐতিহাসিক ঘটনা নথিপত্র।"
    }
};

class LanguageManager {
    constructor() {
        this.currentLang = localStorage.getItem('lang') || 'en';
        this.elements = document.querySelectorAll('[data-i18n]');
        this.init();
    }

    init() {
        this.updatePage();
        this.bindControls();
    }

    setLanguage(lang) {
        this.currentLang = lang;
        localStorage.setItem('lang', lang);
        this.updatePage();

        // Update Toggle Button Visuals
        const btn = document.getElementById('langToggle');
        if (btn) {
            const span = btn.querySelector('span');
            if (span) span.textContent = lang === 'en' ? 'EN' : 'BN';
        }
    }

    toggle() {
        this.setLanguage(this.currentLang === 'en' ? 'bn' : 'en');
    }

    updatePage() {
        // Update text content
        this.elements.forEach(el => {
            const key = el.getAttribute('data-i18n');
            if (translations[this.currentLang][key]) {
                // Determine if we should update textContent or innerHTML based on content
                // For safety, mostly textContent, but allow simple html if needed in future
                el.textContent = translations[this.currentLang][key];
            }
        });

        // Update body font for Bangla (it looks better with a specific font)
        if (this.currentLang === 'bn') {
            document.body.classList.add('lang-bn');
        } else {
            document.body.classList.remove('lang-bn');
        }
    }

    bindControls() {
        const toggleBtn = document.getElementById('langToggle');
        if (toggleBtn) {
            toggleBtn.addEventListener('click', () => this.toggle());
            // Set initial label
            const span = toggleBtn.querySelector('span');
            if (span) span.textContent = this.currentLang.toUpperCase();
        }
    }
}

// Initialize on load
document.addEventListener('DOMContentLoaded', () => {
    window.langManager = new LanguageManager();
});
